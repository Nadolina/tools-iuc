 <tool id="parse_mito_blast" name="Parse mitochondrial blast" version="1.0" python_template_version="3.5">
    <description>overlap-conscious coverage calculation between scaffold-accession number pairs from blast output</description>
    <requirements>
        <requirement type="package" version="@TOOL_VERSION">parse_mito_blast</requirement>
        <requirement type="package" version="@TOOL_VERSION@">pandas</requirement>
        <requirement type="package" version="@TOOL_VERSION@">argparse</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[python3 parse_mito_blast --blastout BLAST_RESULTS --covreport OUTPUT_FILE_NAME]]>
    </command>
    <inputs>
        <param name="BLAST_RESULTS" label="TSV generated by mito-blast" type="data"/>
        <param name="OUTPUT_FILE_NAME" label="Name to generate for report" type="text"/>
    </inputs>
    <outputs>
        <data name="OUTPUT_FILE" label="${tool.name} on ${on_string}" format="csv"/>
    </outputs>
    <tests>
        <test>
            <param name="BLAST_RESULTS" value="testfiles/bTaeGut2_trio.hap1.partialscaffold266.blast.tsv" />
            <param name="OUTPUT_FILE_NAME" value="testout.csv" />
            <output name="OUTPUT_FILE" file="testout.csv" ftype="csv" />
        </test>
    </tests>
    <help><![CDATA[
        usage: parse_mito_blast.py [-h] [--blastout "BLASTOUT"] [--covreport "COVREPORT"]

        optional arguments:
        -h, --help            show this help message and exit
        --blastout BLASTOUT   output from submit_mito_blast2.sh; format 6 csv table
                                generated by blasting the assembly against the
                                mitochondrial database
        --covreport COVREPORT
                                name of output report
    ]]>
    </help>
</tool>
